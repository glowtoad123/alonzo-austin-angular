<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  
<title>Alonzo Austin's Blog Articles</title>
<meta name='description' content='My Blog consists of articles regarding my journey as a web developer and tips.'>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <style type="text/css">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style>
  <style type="text/css">@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v139/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2) format('woff2');}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased;}</style>
  <link href="assets/github.css" rel="stylesheet" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="assets/github.css"></noscript>
  <meta name="google-site-verification" content="MMnSJ_QutQ7XOgSY5dkmYXukKvs-8mvEonpADsvbD1M">
<style>html,body{height:100%}body{background:#e9e5e5;margin:0;font-family:Roboto,Helvetica Neue,sans-serif}</style><link rel="stylesheet" href="styles.70e2eb183534a28f.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.70e2eb183534a28f.css"></noscript></head>
<body class="mat-typography">
  <app-root>
<h1>Blog</h1>

<h3>Adding/Enabling Extensions in PHP using Windows</h3>
<br><p>If you're using PHP or any PHP framework/library for the first time, you've probably noticed when you tried to use composer to create a project that you don't have certain extensions. You may have tried to go to composer to install these extensions, only to find out that this isn't working. Here's how to solve that problem.</p>
<p>You may be surprised to find out that these extensions are already installed, but just are not enabled. To enable these, you must go to _C:\tools\php80_ in your file explorer. Next, you need to look for the <strong>php.ini</strong> file. It may be hard to find this because the <strong>.ini</strong> file extension is not shown after PHP. To locate this file, look for the icon that has the <strong>Configuration settings</strong> type. <img src="https://firebasestorage.googleapis.com/v0/b/alonzoaustin-8314b.appspot.com/o/blogs%2Fphp_extensions%2Fphp_ini.png?alt=media&amp;token=4599e91c-3dda-4209-9fab-5da8053d44dc" alt="php.ini"> Next, open it using your code editor/text editor/IDE. Next search for a long list of extensions that begin with <em>;extension</em>. The <strong>;</strong> comments out a single line, so look for the extensions that begin with <strong>;extension</strong> and delete the <strong>;</strong>. This will enable the extension. You are now ready to use the PHP framework/library of your choice.</p>
<p>While developing your web app, you may try to install a package from composer, only to find that an extension that is not already in the <em>php.ini</em> file. How can you fix this?</p>
<h2>Adding Extensions</h2>
<p>To add extensions, you need to go to <em>http://pecl.php.net/</em> to find the extension you need. (I'm using MongoDB as an example) When you find an extension, find the right version and click on <strong>dll</strong>. <img src="https://firebasestorage.googleapis.com/v0/b/alonzoaustin-8314b.appspot.com/o/blogs%2Fphp_extensions%2Fdll.png?alt=media&amp;token=89f136ce-1bc7-4ba5-bf62-11d38af7d947" alt="dll not tgz"> Again, look for the version compatible with your version of PHP, and download the ** non-threaded** file if you're not using apache. After that, extract the file and find the <strong>dll</strong> file. Next copy the file into <em>C:\tools\php80\ext</em>. You can then add the entry for the new extension in <em>php.ini</em> like the other extensions (for example, to add MongoDB, you would type <strong>extension=mongodb</strong> in alphabetical order of extensions unless stated otherwise). With that done, you can then install the package you need.</p>


<h3>Rewriting an ExpressJS app as a NextJS app (Part 3)</h3>
<br><h2>Rewriting an ExpressJS app as a NextJS app (Day 3: Implementing MongoDB and adding CRUD Functions)</h2>
<h3>Fixing the overwrite error</h3>
<p>As stated in my <a href="https://alonzoaustin.com/blog?title=v8EXkRdaUUyxDKQqevr8">previous blog post</a>, I ran into a problem where my NextJS app threw an error at me claiming that I was trying to overwrite the collection whenever I went to MongoDB Atlas to look at the data. At first, I decided to move on and deal with it later, as it would be rare for me to go to MongoDB Atlas after deploying.</p>
<p>It wasn't until I created a Read REST API using Mongoose that I realized that this was going to be a problem as my app would only let me see the data once unless I restarted the development server. After going to MongooseJS's official site and reading docs on how to get around this, I figured out that I needed to create a connection rather than just use a connection. Then I needed to move everything related to Mongoose under the try statement and made sure that I added an await statement to the const since my CRUD functions were async functions. My APIs ended up looking something like this:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> mongoose <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mongoose&#x27;</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>){
    
    
    <span class="hljs-keyword">try</span> {
        mongoose.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;useFindAndModify&#x27;</span>, <span class="hljs-literal">false</span>)
        <span class="hljs-keyword">const</span> connection = <span class="hljs-keyword">await</span> mongoose.<span class="hljs-title function_">createConnection</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">MONGODB_CONNECTION</span>, {
            <span class="hljs-attr">useNewUrlParser</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">useUnifiedTopology</span>: <span class="hljs-literal">true</span>
        }).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>){
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error:&quot;</span>, err)
        })
        
        <span class="hljs-keyword">const</span> <span class="hljs-title class_">Schema</span> = mongoose.<span class="hljs-property">Schema</span>
        <span class="hljs-keyword">const</span> cardSchema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({
            <span class="hljs-attr">title</span>: <span class="hljs-title class_">String</span>,
            <span class="hljs-attr">note</span>: <span class="hljs-title class_">String</span>,
            <span class="hljs-attr">user</span>: <span class="hljs-title class_">String</span>
        })
        <span class="hljs-keyword">const</span> <span class="hljs-title class_">Card</span> = connection.<span class="hljs-title function_">model</span>(<span class="hljs-string">&#x27;Notes&#x27;</span>, cardSchema)
        <span class="hljs-keyword">const</span> card = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Card</span>({
            <span class="hljs-attr">title</span>: req.<span class="hljs-property">body</span>.<span class="hljs-property">title</span>,
            <span class="hljs-attr">note</span>: req.<span class="hljs-property">body</span>.<span class="hljs-property">note</span>,
            <span class="hljs-attr">user</span>: req.<span class="hljs-property">body</span>.<span class="hljs-property">user</span>
        })
        card.<span class="hljs-title function_">save</span>()
        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>({<span class="hljs-attr">status</span>: <span class="hljs-string">&quot;everything&#x27;s good&quot;</span>})
    } <span class="hljs-keyword">catch</span>(error){

        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({<span class="hljs-title class_">Error</span>: error.<span class="hljs-property">message</span>})
    }
}
</code></pre>
<p>I made sure that the rest of the CRUD functions had the same format except for the creation part. CRUD functions could then be made in a way similar to the way one would do so in ExpressJS.</p>
<h3>Making the web app usable</h3>
<p>After making pages that made use of the APIs, I ran into a problem where the data would not be fetched if I were to refresh the page. To fix that, I added a const called <code>loadingCondition</code> that was equal to the state of <code>true</code>. While true, I would allow the data to be fetched. Once that was complete, I made sure that the state of <code>loadingCondition</code> was set to <code>false</code>, making sure that the data would not need to be fetched again.</p>
<p>With everything in place, I then committed the changes, deployed it to <strong>Vercel</strong>, and took the Nameservers from Vercel to GoDaddy to change the domain name to <a href="https://studythat.site">studythat.site</a></p>


<h3>Using CodeMirror in NextJS without the Navigator error</h3>
<br><p>If you have tried to implement CodeMirror in a NextJS project, you may have seen an error like this everytime you refresh the page:</p>
<p><img src="https://firebasestorage.googleapis.com/v0/b/alonzoaustin-8314b.appspot.com/o/blogs%2Fnavigator%20is%20not%20defined.png?alt=media&amp;token=8130dcb6-fb01-4338-8356-6702dd3038b2" alt="Navigator not defined error"></p>
<p>Instead of hoping that your user would not refresh the page or removing CodeMirror all together, you could try to fix it. Here's how.</p>
<p>Before starting ensure that you do have <strong>react-codemirror</strong> and <strong>codemirror</strong> installed. If not, copy and paste the following within your terminal</p>
<pre><code class="language-bash">
// <span class="hljs-keyword">if</span> you have npm

npm i codemirror

npm i react-codemirror

//if you have yarn

yarn add codemirror

yarn add react-codemirror

</code></pre>
<h2>Dynamic Importing</h2>
<p>First, you need to make sure that you import <code>react-codemirror</code> and your desired themes and modes using <strong>Dynamic imports</strong>. To do this, import the dynamic function from NextJS normally as you would with any other npm/yarn package.</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> dynamic <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next/dynamic&#x27;</span>

</code></pre>
<p>With this function imported, you can start to dynamically import react-codemirror and it's dependencies.  Keep in mind though that you have to dynamically import these outside your exported function. Create a const called <strong>CodeMirror</strong> and set it equal to the dynamic function. Inside the dynamic function,  import the dependencies (e.g. <code>import('codemirror/mode/xml/xml')</code>) and then return with <code>import('react-codemirror')</code>. After you have imported all of these, add an object within the function declaring <code>ssr: false</code>. In the end, it should look something like this:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CodeMirror</span> = <span class="hljs-title function_">dynamic</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;codemirror/mode/xml/xml&#x27;</span>)
    <span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;codemirror/mode/javascript/javascript&#x27;</span>)
    <span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;codemirror/mode/css/css&#x27;</span>)
    <span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;codemirror/mode/markdown/markdown&#x27;</span>)
    <span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;codemirror/theme/material-ocean.css&#x27;</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">import</span>(<span class="hljs-string">&#x27;react-codemirror&#x27;</span>)
}, {<span class="hljs-attr">ssr</span>: <span class="hljs-literal">false</span>})

</code></pre>
<h2>Rendering</h2>
<p>To include the CodeMirror element within your page/component, you first need to enclose it within brackets. After that, you can include everything else such as the value, options, and the onChange event. E.G.:</p>
<pre><code class="language-javascript">
{<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">CodeMirror</span>
    <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;editor&quot;</span>
    <span class="hljs-attr">value</span>=<span class="hljs-string">{devLog}</span>
    <span class="hljs-attr">name</span>= <span class="hljs-string">&quot;Devlog&quot;</span>
    <span class="hljs-attr">options</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">theme:</span> &#x27;<span class="hljs-attr">mdn-like</span>&#x27;,
      <span class="hljs-attr">lineNumbers:</span> <span class="hljs-attr">true</span>,
      <span class="hljs-attr">mode:</span> &#x27;<span class="hljs-attr">markdown</span>&#x27;
    }}
    <span class="hljs-attr">onChange</span>=<span class="hljs-string">{devLog</span> =&gt;</span> setDevLog(devLog)}
/&gt;</span>}

</code></pre>
<p>To ensure that it everything looks right and works the way you expect it to work (not having the textarea and editor being in two separate places or a bunch of x's), you should include the following in your <strong>_app.js</strong> file</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;codemirror/lib/codemirror.css&#x27;</span>

</code></pre>
<p>In the end, you and your users should be able to write code or write a markdown blog using CodeMirror without having to worry about refreshing the page only to see an error.</p>


<h3>Adding a Loading animation to NextJS using React-Redux</h3>
<br><p>After Implementing Server Side Rendering using NextJS on one of my projects, I noticed that my project is now slow when navigating between pages. If users were to use this, they would wonder if the web app is working or not. With that in mind, I decided to implement a loading animation when navigating between pages.</p>
<p>First, I had to add redux, react-redux, and material-ui to my project using yarn.</p>
<pre><code class="language-javascript">
yarn add redux
yarn add react-redux
yarn add @material-ui/core

</code></pre>
<h2>Actions and Reducers</h2>
<p>After that, I had to add to my file structure two folders: actions and reducers.</p>
<h3>Actions</h3>
<p>In the actions folder I added an index.js file that contained a function returning an action. Doing this allowed me to name a function that I would use to dispatch a Boolean switch to let my project know that it is loading.</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setLoadingCondition</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;setLoadingCondition&quot;</span>
    }
}

</code></pre>
<h3>Reducers</h3>
<p>After that I added two files in the reducers folder: loading.js and index.js.</p>
<p>In loading.js, I had to add a reducer (which I named loadingReducer) that has an initial state (that being false) and made sure that it recognized the type: setLoadingCondition I wrote earlier in the index.js file in the actions folder after that function had been dispatched. Once it found it, I made sure that it would return the opposite of the initial state (that being true). If that type had not been dispatched, I made sure that it returned the initial state. In the end, the loading.js file looked like this:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadingReducer</span> = (<span class="hljs-params">state = <span class="hljs-literal">false</span>, action</span>) =&gt; {
    <span class="hljs-keyword">switch</span>(action.<span class="hljs-property">type</span>){
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;setLoadingCondition&quot;</span>:
            <span class="hljs-keyword">return</span> !state


        <span class="hljs-attr">default</span>: <span class="hljs-keyword">return</span> state
    }
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> loadingReducer

</code></pre>
<p>In the index.js file, I had first had to import the loadingReducer I wrote in loading.js and a function called combineReducers from redux. Then I would use the combineReducers function to make sure that when I am selecting a reducer, the loadingReducer could be recognized as just loading for simplicity. That would end up in a const called allReducers, which would be used later. In the end, the index.js file in the reducers folder looked like this:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> loadingReducer <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./loading&#x27;</span>
<span class="hljs-keyword">import</span> {combineReducers} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>


<span class="hljs-keyword">const</span> allReducers = <span class="hljs-title function_">combineReducers</span>({
    <span class="hljs-attr">loading</span>: loadingReducer
})


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> allReducers

</code></pre>
<h2>Tying the action and Reducer into the project</h2>
<h3>_app.js</h3>
<p>In the _app.js file I had to make sure that NextJS recognized the fact that my redux and react-redux were being used. First I had to import Provider tag from react-redux. After that, I had put the Component tag within the Provider tag. With the Provider tag wrapped around the Component tag, I had to make sure that Provider was aware of the reducer I created. With that in mind, I had to import createStore from redux and the allReducer I made earlier. In a const I called store, I used the createStore function to utilize allReducer. The store would then be in the Provider tag in an attribute that was also called store. In the end, _app.js looked something like this:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> {createStore} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;redux&#x27;</span>
<span class="hljs-keyword">import</span> allReducer <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../reducers&#x27;</span>
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Provider</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyApp</span>(<span class="hljs-params">{ Component, pageProps }</span>) {


    <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(allReducer);

    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Component</span> {<span class="hljs-attr">...pageProps</span>} /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span>

 
}
    
</code></pre>
<h2>Implementing the reducer and the loading animation</h2>
<p>In the components that allow me to navigate between different pages I had to import a hook from react-redux called useDispatch, and setLoadingCondition I made earlier from the index.js file in the actions folder. I then created a const called dispatch which used the useDispatch hook for simplicity reasons. On the element within a Link tag, I added an onClick event allowing me to dispatch the setLoadingCondition function to make sure that project knows that it is loading. On the pages I imported a hook from react-redux called useSelector and a LinearProgress tag from @material-ui/core. In a const I called loading, I used the useSelector hook to select the loadingReducer that was known as loading for simplicity. In the DOM, I made a function that checked to see if the page was loading. If it was then loading would be true. If loading was true, I wrapped a div tag around the LinearProgress tag. Since the amount of data would increase, I had to make sure that the LinearProgress could be seen while scrolling. To do this, I added a className to the div tag so that I could customize it in a css file. Here is what I added to my files:</p>
<p>component:</p>
<pre><code class="language-javascript">
<span class="hljs-comment">// import statements</span>

<span class="hljs-keyword">import</span> {useDispatch} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>
<span class="hljs-keyword">import</span> {setLoadingCondition} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../actions&#x27;</span>

<span class="hljs-comment">//const</span>

<span class="hljs-keyword">const</span> dispatch = <span class="hljs-title function_">useDispatch</span>()

<span class="hljs-comment">//DOM</span>

<span class="hljs-keyword">return</span> (
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">{</span>`/<span class="hljs-attr">project</span>?<span class="hljs-attr">title</span>=<span class="hljs-string">${props.id}</span>`}&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch(setLoadingCondition())} className={styles.displaytitle}&gt;<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>{props.project}<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>
)

</code></pre>
<p>page:</p>
<pre><code class="language-javascript">
<span class="hljs-comment">// import statements</span>

<span class="hljs-keyword">import</span> {useSelector} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-redux&#x27;</span>
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">LinearProgress</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@material-ui/core&#x27;</span>

<span class="hljs-comment">//const</span>

<span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">loading</span>)

<span class="hljs-comment">//DOM</span>

<span class="hljs-keyword">return</span> (
{loading &amp;&amp; <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;loading&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">LinearProgress</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>}
)

</code></pre>
<p>css file:</p>
<pre><code class="language-javascript">
.<span class="hljs-property">loading</span> {
  <span class="hljs-attr">position</span>: fixed;
  <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attr">width</span>: -webkit-fill-available;
  <span class="hljs-attr">width</span>: -moz-available;
  z-<span class="hljs-attr">index</span>: <span class="hljs-number">3</span>;
}

</code></pre>
<p>Because of Redux, my project now has a loading animation.</p>
<p><img src="https://firebasestorage.googleapis.com/v0/b/alonzoaustin-8314b.appspot.com/o/kodenshare%2Floadinganimation.gif?alt=media&amp;token=24c2b7cf-55f4-4a34-9f5e-5b8161c21136" alt="My project with a loading animation"></p>
<p><a href="https://kodenshare.site">Here's the final result</a></p>


<h3>How to parse fetched markdown in NextJS with Syntax Highlighting</h3>
<br><p>Instead of writing individual html pages or embedding an article from an external blog site, you may want to make your own customization to your articles and to make use of markdown's simplicity to write blogs alongside NextJS's incremental static site generation for fast loading and dynamic data. However, if you have used a markdown parser, you probably have realized that while it gets the job done, you would prefer to have syntax highlighting in your code snippets rather than just having text that looks somewhat different from your paragraphs. If you have faced this, there is a solution to this. First you need to install two packages: markdown-it and highlight.js.</p>
<pre><code class="language-bash">// <span class="hljs-keyword">if</span> you<span class="hljs-string">&#x27;re using npm

npm i highlight.js
npm i markdown-it

//if you&#x27;</span>re using yarn

yarn add highlight.js
yarn add markdown-it

</code></pre>
<p>First, at the top of your file, you need to import hljs from highlight.js and then import MarkdownIt from markdown-it.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> hljs <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;highlight.js&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MarkdownIt</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;markdown-it&#x27;</span>
</code></pre>
<p>After that, you need to create a const (let's call it md) that is equal to a MarkdownIt function that incorporates hljs that was imported. This will allow Markdown-It to recognize parts of your markdown data that has code and will apply syntax highlighting for that language. It should look something like this.</p>
<pre><code class="language-javascript">    <span class="hljs-keyword">const</span> md = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MarkdownIt</span>({
        <span class="hljs-attr">highlight</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">str, lang</span>) {
          <span class="hljs-keyword">if</span> (lang &amp;&amp; hljs.<span class="hljs-title function_">getLanguage</span>(lang)) {
            <span class="hljs-keyword">try</span> {
              <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;pre class=&quot;hljs&quot;&gt;&lt;code&gt;&#x27;</span> +
                     hljs.<span class="hljs-title function_">highlight</span>(lang, str, <span class="hljs-literal">true</span>).<span class="hljs-property">value</span> +
                     <span class="hljs-string">&#x27;&lt;/code&gt;&lt;/pre&gt;&#x27;</span>;
            } <span class="hljs-keyword">catch</span> (err) {<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err)}
          }
      
          <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;pre class=&quot;hljs&quot;&gt;&lt;code&gt;&#x27;</span> + md.<span class="hljs-property">utils</span>.escapeHtml(str) + <span class="hljs-string">&#x27;&lt;/code&gt;&lt;/pre&gt;&#x27;</span>;
        }
      });

</code></pre>
<p>After that, you can create a div element with an attribute called dangerouslySetInnerHTML. That attribute should contain an object with a propterty called: __html (yes with two underscores). This should be equal to md.render(/<em>your markdown data</em>/, <em>/language</em>/)  (assuming that you named the const md). It should look like this:</p>
<pre><code class="language-javascript">&lt;div id={styles.<span class="hljs-property">blog</span>} dangerouslySetInnerHTML={{<span class="hljs-attr">__html</span>: md.<span class="hljs-title function_">render</span>(<span class="hljs-comment">/*your markdown data*/</span>, *<span class="hljs-regexp">/language*/</span>)}}&gt;&lt;/div&gt;

</code></pre>
<p>Finally to make sure that syntax highlighting actually appear, you need to import a css file from highligh.js in your _app.js file. Highlight.js has alot of css styles so you can experiment with those. To find those styles, you can go to the node_modules folder, then inside that folder go to the highlight.js folder, and then styles. The import statement should look something like this:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;highlight.js/styles/atelier-forest-light.css&#x27;</span>
</code></pre>
<p>In the end, you will have a blog article with syntax highlighting. <a href="https://alonzoaustin.com/blog?title=Rj0nK8aJE1vj1QpgOETx">E.G This site</a></p>


<h3>Rewriting an ExpressJS app as a NextJS app (Part 2)</h3>
<br><h2>Recycling old components</h2>
<p>After implementing authentication to my webapp, I decided to reuse the styles I used from the Express version and a navbar I used from <a href="https://kodebroilers.site">Kodebroilers</a>-one of my projects.</p>
<p>Because I wanted everything to look the same as the Express Version, I decided to save time by copying and pasting the styles from the css file from the Express Version to the <code>globals.css</code> file in the NextJS version. This allows me to reuse the styles without having to create new <code>.module.css</code> files for every page or component and frees me from having to import them and writing 	<code>className={styles./*enterclassName*/}</code> for each element.</p>
<p>Reusing the Navbar was easy considering that Kodebroilers was a web app that allows users to copy and paste components or lines of code that they would reuse constantly. Because I want all of my projects to share a similar style, I made sure that after I deployed Kodebroilers, I copied and pasted the navbar I used in Kodebroilers into Kodebroilers. This allowed me to easily reuse it in the NextJS version. I had to make some adjustments such as making sure that the <code>Link</code> element is now imported from <code>Next/link</code> rather than from <code>react-router-dom</code> and made sure that I replaced <code>to</code> with <code>href</code> when using the <code>Link</code> element. I also changed the color scheme to match the style of the webapp. It now looks like this (the svg icon colors looks different because I edited them in the <code>globals.css</code> file to make sure that all svg icons have the same color throughout the web app)</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Link</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next/link&#x27;</span>
<span class="hljs-keyword">import</span> { useUser } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@auth0/nextjs-auth0&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Nav</span>(<span class="hljs-params"></span>){

    <span class="hljs-keyword">const</span> {user} = <span class="hljs-title function_">useUser</span>()

    <span class="hljs-keyword">const</span> navStyle = {
        <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;#F5F5F5&#x27;</span>,
        <span class="hljs-attr">padding</span>: <span class="hljs-string">&#x27;30px&#x27;</span>,
        <span class="hljs-attr">border</span>: <span class="hljs-string">&#x27;none&#x27;</span>,
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">&#x27;12px&#x27;</span>,
        <span class="hljs-attr">position</span>: <span class="hljs-string">&#x27;fixed&#x27;</span>,
        <span class="hljs-attr">top</span>: <span class="hljs-string">&#x27;35%&#x27;</span>,
        <span class="hljs-comment">/* top: !currentUser ? &#x27;35%&#x27; : &#x27;20%&#x27;, */</span>
        <span class="hljs-attr">right</span>: <span class="hljs-string">&#x27;5px&#x27;</span>,
        <span class="hljs-attr">boxShadow</span>: <span class="hljs-string">&#x27;4px 4px 4px rgba(0, 0, 0, 0.25)&#x27;</span>,
        <span class="hljs-attr">zIndex</span>: <span class="hljs-string">&#x27;3&#x27;</span>,
        <span class="hljs-attr">display</span>: <span class="hljs-string">&#x27;flex&#x27;</span>,
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">&#x27;column&#x27;</span>
    }

    <span class="hljs-keyword">const</span> navButtonStyle = {
        <span class="hljs-attr">margin</span>: <span class="hljs-string">&quot;auto&quot;</span>,
        <span class="hljs-attr">marginTop</span>: <span class="hljs-string">&quot;15px&quot;</span>,
        <span class="hljs-attr">marginBottom</span>: <span class="hljs-string">&quot;15px&quot;</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;32px&#x27;</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;32px&#x27;</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;white&#x27;</span>
    }

    <span class="hljs-keyword">return</span>(
        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{navStyle}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{navButtonStyle}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bi bi-house-fill&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;currentColor&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">&quot;evenodd&quot;</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z&quot;</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">&quot;evenodd&quot;</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/create&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{navButtonStyle}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bi bi-plus-square-fill&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;currentColor&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">&quot;evenodd&quot;</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
            {/* <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/account&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{navButtonStyle}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bi bi-person-fill&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;currentColor&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">&quot;evenodd&quot;</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span> */}
            {user &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/api/auth/logout&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{navButtonStyle}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bi bi-door-closed-fill&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;currentColor&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">&quot;evenodd&quot;</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M4 1a1 1 0 0 0-1 1v13H1.5a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2a1 1 0 0 0-1-1H4zm2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>}
            {!user &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/api/auth/login&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{navButtonStyle}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1em&quot;</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bi bi-door-closed-fill&quot;</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;currentColor&quot;</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">fill-rule</span>=<span class="hljs-string">&quot;evenodd&quot;</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M4 1a1 1 0 0 0-1 1v13H1.5a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2a1 1 0 0 0-1-1H4zm2 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>}
        <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
    )
}
             
</code></pre>
<h2>testing out MongoDB</h2>
<p>I first started by creating a folder in the api folder called <code>create</code>. Within that folder, I created an <code>index.js</code> folder. At first, the file looked something like this:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> mongoose <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mongoose&#x27;</span>

mongoose.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;useFindAndModify&#x27;</span>, <span class="hljs-literal">false</span>)
mongoose.<span class="hljs-title function_">connect</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">MONGODB_CONNECTION</span>, {
            <span class="hljs-attr">useNewUrlParser</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">useUnifiedTopology</span>: <span class="hljs-literal">true</span>
        }).<span class="hljs-title function_">catch</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>){
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error:&quot;</span>, err)
        })
        
        <span class="hljs-keyword">const</span> <span class="hljs-title class_">Schema</span> = mongoose.<span class="hljs-property">Schema</span>
        <span class="hljs-keyword">const</span> cardSchema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({
            <span class="hljs-attr">title</span>: <span class="hljs-title class_">String</span>,
            <span class="hljs-attr">note</span>: <span class="hljs-title class_">String</span>,
            <span class="hljs-attr">user</span>: <span class="hljs-title class_">String</span>
        })
        <span class="hljs-keyword">const</span> <span class="hljs-title class_">Card</span> = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">&#x27;Notes&#x27;</span>, cardSchema)


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>){
    
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> card = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Card</span>({
            <span class="hljs-attr">title</span>: req.<span class="hljs-property">body</span>.<span class="hljs-property">title</span>,
            <span class="hljs-attr">note</span>: req.<span class="hljs-property">body</span>.<span class="hljs-property">note</span>,
            <span class="hljs-attr">user</span>: req.<span class="hljs-property">body</span>.<span class="hljs-property">user</span>
        })
        card.<span class="hljs-title function_">save</span>()
        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">json</span>({<span class="hljs-attr">status</span>: <span class="hljs-string">&quot;everything&#x27;s good&quot;</span>})
    } <span class="hljs-keyword">catch</span>(error){

        res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({<span class="hljs-title class_">Error</span>: error.<span class="hljs-property">message</span>})
    }
}

</code></pre>
<p>I ended the day by testing the api by creating a <code>create.js</code> page that allowed me to create a card. It was a simple form that resembled the style of a form in <a href="https://kodenshare.site">Kodenshare</a>-another one of my projects. Although I was able to Post the data to MongoDB, I ran into a problem. As soon as I opened MongoDB in my browser, my webapp would not allow me to Post any more data. The console then returned an error indicating that I was trying to overwrite the Notes collection when I was not intending that to happen. It wouldn't be until the following day that I would patch the problem.</p>


<h3>Rewriting an ExpressJS app as a NextJS app (Part 1: authentication)</h3>
<br><p>After creating a web app with ExpressJS (with EJS as the template engine) and MongoDB as the database, I deployed the app to Heroku. Everything worked out except for the fact that Heroku would not let me add a domain name without <strong>www</strong> unless I got a subscription. Not wanting to pay, I decided to switch to a framework that I loved so that I can deploy it on <strong>vercel</strong>-which allows me to add any domain name I want for free without <strong>www</strong>. This also allowed me to see if I really need a MERN Stack to create a full-stack app with ReactJS or if I could just use NextJS. While I was at it, I decided to add authentication so that each user could have their own cards.</p>
<h2>Authentication</h2>
<p>At first, I tried to use <strong>NextAuth</strong>; however, I kept on getting an error message indicating that a database is required. I tried to find a solution; however, I could not. After some time, I decided to try a different authentication method. That's when I discovered Auth0. While Auth0's easy-to-use application menu and starter kit made it easy to set up authentication, it was their documentation and login customization that won me over.</p>
<p>At first, I had to add the right node module for it to work with NextJS.</p>
<pre><code class="language-bash">
yarn add @auth0/nextjs-auth0

</code></pre>
<p>Then I needed to create a dynamic api called <code>[...auth0].js</code> inside a folder called <strong>auth</strong> in the api folder. inside <code>[...auth0].js</code>, I wrote the following:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">import</span> { handleAuth } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@auth0/nextjs-auth0&#x27;</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">handleAuth</span>()

</code></pre>
<p>In the <code>_app.js</code> file, I made sure it looked like this</p>
<pre><code class="language-javascript">

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@auth0/nextjs-auth0&#x27;</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;../styles/globals.css&#x27;</span>


<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyApp</span>(<span class="hljs-params">{ Component, pageProps }</span>) {

  <span class="hljs-keyword">return</span> (
    &lt;<span class="hljs-title class_">UserProvider</span>&gt;
      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Component</span> {<span class="hljs-attr">...pageProps</span>} /&gt;</span></span>	      
	&lt;<span class="hljs-title class_">UserProvider</span>&gt;
  )
  
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">MyApp</span>
</code></pre>
<p>To ensure that users could log in/sign-up, I had to add a link to the signin page through the dynamic api <code>[...auth0]</code>.</p>
<p>I did this by adding <code>&lt;a href=&quot;/api/auth/login&quot;&gt;signin&lt;/a&gt;</code> so that users can sign in and <code>&lt;a href=&quot;/api/auth/logout&quot;&gt;signout&lt;/a&gt;</code> so that users can sign out.</p>
<p>I also wanted to make sure that a user actually is logged in. To do this, I added <code>import { useUser } from '@auth0/nextjs-auth0'</code> to the top of my <code>index.js</code> page. Using the <code>useUser</code> function, I was able to check to see if a user was logged in by adding the following:</p>
<pre><code class="language-javascript">
<span class="hljs-keyword">const</span> {user} = <span class="hljs-title function_">useUser</span>()

user &amp;&amp; user.<span class="hljs-property">name</span> ? <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;user&quot;</span>, user) : <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;not loggedin&quot;</span>)
</code></pre>
<p>At the end of the day, I decided to change the login page so that it would look similar to the login pages in my other projects. Auth0 allowed the login page to be edited using HTML so that any web developer would be able to customize it with ease. Here's what my login page now looks like: <img src="https://firebasestorage.googleapis.com/v0/b/alonzoaustin-8314b.appspot.com/o/studythat-next%2Fauth0login.png?alt=media&amp;token=895413f4-4ee3-4566-b73e-33a58e6d9449" alt="login page"></p>

</app-root>
<script src="runtime.f82309700bff6959.js" type="module"></script><script src="polyfills.8206e4e9cece1d46.js" type="module"></script><script src="main.92f0400e7a4a5d00.js" type="module"></script>

</body></html>